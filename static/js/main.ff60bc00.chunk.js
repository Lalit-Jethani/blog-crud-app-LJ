(this["webpackJsonpawesome-project"]=this["webpackJsonpawesome-project"]||[]).push([[0],{30:function(e,t,c){},49:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(21),s=c.n(n),o=(c(49),c.p,c(30),c(6)),i=c.n(o),d=c(13),l=" https://salesforce-blogs.herokuapp.com/",u=c(15),b=c.n(u),j=function(e,t){t({type:"FETCH_POST_SUCCESS",payload:e.data})},O=function(e,t){t({type:"FETCH_POST_ERROR",payload:e})},p=function(e){return function(){var t=Object(d.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:"DATA_LOADING",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e,t){t({type:"CREATE_POST_SUCCESS",payload:e.data})},h=function(e,t){t({type:"CREATE_POST_ERROR",payload:e})},m=function(e,t){t({type:"DELETE_POST_ERROR",payload:e})},x=function(e,t){t({type:"DELETE_POST_SUCCESS",payload:e.data})},E=function(e,t){t({type:"EDIT_POST_ERROR",payload:e})},v=function(e,t){t({type:"DELETE_ALL_POST_SUCCESS",payload:e.data})},g=function(e,t){t({type:"FETCH_SINGLE_POST_SUCCESS",payload:e.data})},y=c(5),S=c(39),N=c(40),R=c(44),_=c(43),C=c(1),T=function(e){Object(R.a)(c,e);var t=Object(_.a)(c);function c(){var e;Object(S.a)(this,c);for(var r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={isError:!1},e}return Object(N.a)(c,[{key:"componentDidCatch",value:function(e){this.setState({isError:!0})}},{key:"render",value:function(){return Object(C.jsx)("div",{children:"Network Error Occured. Please Re Run this page or contact the support Team."})}}]),c}(a.a.Component),w=c(16),P=c(2),L=c(25),D=function(){var e=Object(y.b)(),t=a.a.useState({title:"",text:""}),c=Object(L.a)(t,2),r=c[0],n=c[1],s=function(e){n((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(w.a)({},e.target.name,e.target.value))}))},o=function(){n((function(e){return Object(P.a)(Object(P.a)({},e),{},{title:"",text:""})}))};return Object(C.jsx)("div",{className:"card border-0 rounded-0 shadow",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title text-center",children:Object(C.jsx)("span",{className:"title-h5",children:"Post"})}),Object(C.jsxs)("form",{onSubmit:function(t){var c;t.preventDefault(),r.title.trim()&&r.text.trim()&&(e((c=r,function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(p(!0)),b.a.post("".concat(l).concat("blogs/api"),c).then((function(e){f(e,t)})).catch((function(e){h(e,t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),o())},children:[Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("input",{required:!0,type:"text",name:"title",value:r.title,placeholder:"Enter title",onChange:s,className:"form-control form-control-lg border border-secondary"})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("textarea",{required:!0,rows:"10",cols:"30",name:"text",value:r.text,placeholder:"Enter post",onChange:s,className:"form-control form-control-lg border border-secondary"})}),Object(C.jsx)("div",{className:"form-group text-center",children:Object(C.jsx)("button",{type:"submit",className:"btn btn-primary rounded pl-5 pr-5",children:"Submit"})})]})]})})},k=c(24),A=c.n(k),U=c(4),I=function(e){e.post;var t=Object(U.useHistory)(),c=Object(y.c)((function(e){return e.blogReducer.post}));return c.map((function(e){return Object(C.jsx)("div",{className:"card border-0 rounded-0 mt-1 mb-2 shadow-sm",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("h5",{className:"card-title blog-title cursor-style",onClick:function(){return c=e.id,void t.push("/FullPost/"+c);var c},children:[e.title,Object(C.jsx)("small",{className:"text-muted float-right cursor-style",children:Object(C.jsx)(A.a,{fromNow:!0,children:e.date})})]}),Object(C.jsx)("p",{className:"card-text blog-body",children:e.text})]})})}))};var H=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.blogReducer.isError})),c=Object(y.c)((function(e){return e.blogReducer.isLoading})),r=Object(y.c)((function(e){return e.blogReducer.isRefreshed}));return a.a.useEffect((function(){e(function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(p(!0)),b.a.get("".concat(l).concat("blogs/api")).then((function(e){j(e,t)})).catch((function(e){O(e,t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r]),t?Object(C.jsx)(T,{}):Object(C.jsx)("div",{className:"App",children:c?Object(C.jsx)("div",{id:"loader"}):Object(C.jsx)("div",{className:"container-fluid",children:Object(C.jsxs)("div",{className:"row mt-4",children:[Object(C.jsx)("div",{className:"col-md-4 ",children:Object(C.jsx)(D,{})}),Object(C.jsx)("div",{className:"col-md-8",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-md-12",children:Object(C.jsx)(I,{})})})})]})})})},F=c(20),q=c(26),G={post:[],error:{},isError:!1,isLoading:!1,isRefreshed:!1,singlePost:{},status:""},B=Object(F.b)({blogReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POST_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{post:t.payload,isLoading:!1});case"FETCH_POST_ERROR":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload.response,isError:!0,isLoading:!1});case"DATE_LOADING":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload.response,isLoading:!0});case"CREATE_POST_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{post:[].concat(Object(q.a)(e.post),[t.payload]),isLoading:!1});case"CREATE_POST_ERROR":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload.response,isError:!0,isLoading:!1});case"DELETE_POST_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{isRefreshed:!e.isRefreshed,post:[].concat(Object(q.a)(e.post),[t.payload]),isLoading:!1});case"DELETE_POST_ERROR":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload.response,isError:!0,isLoading:!1});case"EDIT_SELECTED":return Object(P.a)(Object(P.a)({},e),{},{singlePost:Object(P.a)(Object(P.a)({},e.singlePost),{},{isEdited:!0})});case"EDIT_POST_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{isRefreshed:!e.isRefreshed,post:[].concat(Object(q.a)(e.post),[t.payload]),isLoading:!1});case"EDIT_POST_ERROR":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload.response,isError:!0,isLoading:!1});case"FETCH_SINGLE_POST_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{singlePost:t.payload,isLoading:!0});case"DELETE_ALL_POST_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{post:[],isRefreshed:!e.isRefreshed,status:t.payload.message,isLoading:!1});default:return e}}}),J=c(41),V=(c(77),c(12)),z=function(e){var t=Object(y.b)(),c=a.a.useState({title:"",text:"",isEdited:!1}),r=Object(L.a)(c,2),n=r[0],s=r[1];a.a.useEffect((function(){s({title:e.post.title,text:e.post.text,isEdited:!1,id:e.post.id})}),[]);var o=function(e){s((function(t){return Object(P.a)(Object(P.a)({},t),{},Object(w.a)({},e.target.name,e.target.value))}))},u=function(e){var c;e.preventDefault(),n.title.trim()&&n.text.trim()&&(t((c=n,function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(p(!0)),b.a.post("".concat(l).concat("blogs/api","/").concat(c.id),c).then((function(e){g(e,t)})).catch((function(e){E(e,t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),j())},j=function(){s({title:"",text:"",isEditing:!1})};return Object(C.jsx)("div",{className:"card border-0 rounded-0 shadow",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title text-center",children:Object(C.jsx)("span",{className:"title-h5",children:"Editing post"})}),Object(C.jsxs)("form",{onSubmit:u,children:[Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("input",{required:!0,type:"text",name:"title",placeholder:"Enter title",onChange:o,defaultValue:e.post.title,className:"form-control form-control-lg border border-secondary"})}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("textarea",{required:!0,rows:"3",cols:"30",name:"text",placeholder:"Enter post",onChange:o,defaultValue:e.post.text,className:"form-control form-control-lg border border-secondary"})}),Object(C.jsx)("div",{className:"form-group text-center",children:Object(C.jsx)("button",{type:"submit",onClick:u,className:"btn btn-success rounded pl-5 pr-5",children:"Update"})})]})]})})},K=Object(U.withRouter)((function(e){var t=Object(U.useHistory)(),c=Object(y.b)(),r=Object(y.c)((function(e){return e.blogReducer.singlePost})),n=e.match?e.match.params.id:-1;return a.a.useEffect((function(){var e;c((e=n,function(){var t=Object(d.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(p(!0)),b.a.get("".concat(l).concat("blogs/api","/").concat(e)).then((function(e){g(e,c)})).catch((function(e){E(e,c)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[]),r.isEdited?Object(C.jsx)(z,{post:r}):Object(C.jsx)("div",{className:"card border-0 rounded-0 mt-1 mb-2 shadow-sm",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("h5",{className:"card-title ",children:[r.title,Object(C.jsx)("small",{className:"text-muted float-right",children:Object(C.jsx)(A.a,{fromNow:!0,children:r.date})})]}),Object(C.jsx)("p",{className:"card-text blog-body-details ",children:r.text}),Object(C.jsxs)("div",{className:"float-right",children:[Object(C.jsx)("button",{type:"button",onClick:function(){return c({type:"EDIT_SELECTED",payload:r.id})},className:"btn btn-info rounded pr-3 pl-3 mr-1",children:"Edit"}),Object(C.jsx)("button",{type:"button",onClick:function(){var e;c((e=r.id,function(){var t=Object(d.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(p(!0)),b.a.delete("".concat(l).concat("blogs/api","/").concat(e)).then((function(e){x(e,c)})).catch((function(e){m(e,c)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),t.push("/")},className:"btn btn-danger rounded pr-3 pl-3",children:"Delete"})]})]})})})),M=c(42);var Q=Object(M.withRouter)((function(e){var t=e.match?e.match.params.id:-1,c=Object(y.c)((function(e){return e.blogReducer.singlePost}));return t?Object(C.jsx)("div",{children:c.isEdited?Object(C.jsx)(z,{post:c}):Object(C.jsx)(K,{})}):Object(C.jsx)("div",{children:"loading"})}));var W=function(){var e=Object(y.b)();return Object(C.jsx)(V.b,{onClick:function(){e(function(){var e=Object(d.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(p(!0)),b.a.delete("".concat(l).concat("blogs/api")).then((function(e){v(e,t)})).catch((function(e){E(e,t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"nav-link cursor-style ",children:"Delete All Posts"})};var X=Object(U.withRouter)((function(e){return Object(C.jsxs)("nav",{className:"navbar navbar-expand-sm bg-info navbar-dark fixed-top",children:[Object(C.jsx)(V.b,{to:"/",className:"navbar-brand cursor-style",children:"Blog App Home"}),Object(C.jsx)("ul",{className:"nav navbar-nav",children:Object(C.jsx)("li",{className:"nav-item",children:"/"===e.location.pathname&&Object(C.jsx)(W,{})})})]})}));var Y=function(){return Object(y.c)((function(e){return e.blogReducer.isError}))?Object(C.jsx)(T,{}):Object(C.jsx)("div",{className:"App",children:Object(C.jsxs)(V.a,{children:[Object(C.jsx)(X,{}),Object(C.jsxs)(U.Switch,{children:[Object(C.jsx)(U.Route,{exact:!0,path:"/",children:Object(C.jsx)(H,{})}),Object(C.jsx)(U.Route,{exact:!0,path:"/FullPost/:id",children:Object(C.jsx)(Q,{})})]})]})})};s.a.render(Object(C.jsx)(y.a,{store:Object(F.c)(B,Object(F.a)(J.a)),children:Object(C.jsx)(V.a,{children:Object(C.jsx)(Y,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ff60bc00.chunk.js.map